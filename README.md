# README

## 抽奖

### table 

#### 抽奖活动 lottery

#### 奖品 award 

#### 参与者 lottery_user

#### 用户表 member_user

#### 中奖记录 award_user

### 逻辑

### 抽奖类型

#### 普通抽奖
参与即可抽奖， 每人一票， 到时开奖

#### 邀请抽奖
参与即可抽奖， 每邀请一人， 增加一票， 邀请者也可以参与抽奖， 到时开奖

#### 数赞分享者模式抽奖
分享活动， 有访问即可参与抽奖， 每多一个访客增加一票， 到时开奖

### 开奖逻辑

#### 票池设计
普通抽奖： 按参与抽奖时间正序加入票池
邀请抽奖： 按参与抽奖时间和邀请者加入时间 正序加入票池，邀请者在被邀请者之前
分享活动抽奖：按分享者被访问的时间加入票池，多次被同一个人访问按最后一次访问时间加入票池

例： 
[userID1, userID2, userID1, userID3, userID1, userID4]

#### 开奖
建抽奖活动时 即绑定一个HPB的区块1， 开奖时取区块1的后30个区块上的随机数， 





